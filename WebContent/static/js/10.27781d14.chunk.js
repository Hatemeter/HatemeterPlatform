(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1036:function(e,t,a){},1038:function(e,t,a){},1040:function(e,t,a){},1042:function(e,t,a){"use strict";var n=a(1043),r=a(60),s=a(1044);function o(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function c(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function i(e,t){var a=function(e){var t;switch(e.arrayFormat){case"index":return function(e,a,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=a):n[e]=a};case"bracket":return function(e,a,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],a):n[e]=[a]:n[e]=a};default:return function(e,t,a){void 0!==a[e]?a[e]=[].concat(a[e],t):a[e]=t}}}(t=r({arrayFormat:"none"},t)),n=Object.create(null);return"string"!==typeof e?n:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),r=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:s(o),a(s(r),o,n)}),Object.keys(n).sort().reduce(function(e,t){var a=n[t];return Boolean(a)&&"object"===typeof a&&!Array.isArray(a)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(a):e[t]=a,e},Object.create(null))):n}t.extract=c,t.parse=i,t.stringify=function(e,t){!1===(t=r({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var a=function(e){switch(e.arrayFormat){case"index":return function(t,a,n){return null===a?[o(t,e),"[",n,"]"].join(""):[o(t,e),"[",o(n,e),"]=",o(a,e)].join("")};case"bracket":return function(t,a){return null===a?o(t,e):[o(t,e),"[]=",o(a,e)].join("")};default:return function(t,a){return null===a?o(t,e):[o(t,e),"=",o(a,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map(function(n){var r=e[n];if(void 0===r)return"";if(null===r)return o(n,t);if(Array.isArray(r)){var s=[];return r.slice().forEach(function(e){void 0!==e&&s.push(a(n,e,s.length))}),s.join("&")}return o(n,t)+"="+o(r,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:i(c(e),t)}}},1043:function(e,t,a){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},1044:function(e,t,a){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),r=new RegExp("(%[a-f0-9]{2})+","gi");function s(e,t){try{return decodeURIComponent(e.join(""))}catch(r){}if(1===e.length)return e;t=t||1;var a=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],s(a),s(n))}function o(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(n),a=1;a<t.length;a++)t=(e=s(t,a).join("")).match(n);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var a={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},n=r.exec(e);n;){try{a[n[0]]=decodeURIComponent(n[0])}catch(t){var s=o(n[0]);s!==n[0]&&(a[n[0]]=s)}n=r.exec(e)}a["%C2"]="\ufffd";for(var c=Object.keys(a),i=0;i<c.length;i++){var l=c[i];e=e.replace(new RegExp(l,"g"),a[l])}return e}(e)}}},1045:function(e,t,a){var n=a(1046),r=a(1047);e.exports=function(e,t,a){var s=t&&a||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var c=0;c<16;++c)t[s+c]=o[c];return t||r(o)}},1046:function(e,t){var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(a){var n=new Uint8Array(16);e.exports=function(){return a(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},1047:function(e,t){for(var a=[],n=0;n<256;++n)a[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,r=a;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}},1059:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(13),s=a(15),o=a(14),c=a(16),i=a(51),l=a(1),u=a.n(l),m=a(3),p=(a(1036),a(1038),a(59)),f=a.n(p),d=a(165),h=(a(1040),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).handleSave=function(e){var t=e.target.parentElement.parentElement.firstChild.firstChild.textContent;a.copyStringToClipboard(t),document.execCommand("copy"),window.getSelection().removeAllRanges(),d.NotificationManager.success("Copied to clipboard","",1e3),a.props.callbackChooseSave(a.props.index)},a.handleOnFocus=function(e){a.selectElementContents(e.target.parentElement.parentElement.firstChild.firstChild)},a.state={text:"",sender:""},a.state.text=a.props.text,a.state.sender=a.props.sender,a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){f()(".bubbleText").bind("copy",function(e){return e.preventDefault(),!1})}},{key:"copyStringToClipboard",value:function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style={position:"absolute",left:"-9999px"},document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},{key:"selectElementContents",value:function(e){var t=document.createRange();t.selectNodeContents(e);var a=window.getSelection();a.removeAllRanges(),a.addRange(t)}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"speechbubble "+("true"===this.props.reply?"leftarrow":"rightarrow")+" animated fadeIn"},u.a.createElement("span",{className:"bubbleContent"},u.a.createElement("div",null,u.a.createElement("span",{className:"bubbleText",contentEditable:"true",style:{cursor:"text"}},this.state.text)),u.a.createElement("span",{className:"bubbleButtons"},u.a.createElement("i",{className:"fa fa-edit",style:{marginBottom:"8px",cursor:"pointer"},onClick:function(t){return e.handleOnFocus(t)}}),u.a.createElement("i",{className:"fa fa-save",style:{marginBottom:"12px",cursor:"pointer"},onClick:function(t){return e.handleSave(t)}}))),u.a.createElement("span",{className:"username"},this.state.sender))}}]),t}(l.Component)),g=(a(24),a(428),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).onFormSubmit=function(e){a.props.callbackParent(a.state.text)},a.state={text:"",sender:""},a.state.text=a.props.text,a.state.sender=a.props.sender,a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"speechbubble "+("true"===this.props.reply?"leftarrow":"rightarrow")+" animated fadeIn"},u.a.createElement("p",null,u.a.createElement(m.n,{className:"form-inline px-8",onSubmit:this.onFormSubmit,style:{flexFlow:"row",alignItems:"start"}},u.a.createElement(m.o,{placeholder:"Insert hate message here...",ref:"hate_message",onChange:function(t){return e.setState({text:t.target.value})},type:"textarea",resize:"none",value:this.state.text,style:{resize:"none",width:"100%",height:"130px",backgroundColor:"transparent",borderColor:"transparent",color:"#fff"}}),u.a.createElement("i",{onClick:this.onFormSubmit,className:"fa fa-comments-o ",style:{fontSize:"30px",marginLeft:"10px",cursor:"pointer"}}))),u.a.createElement("span",{className:"username"},this.state.sender))}}]),t}(l.Component)),v=a(578),y=a(1042),b=a(1045),x=function(e){function t(e){var a;Object(n.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).performQuery=function(e){console.log(e);var t=Object(i.a)(Object(i.a)(a));a.setState({hate_message:e,replyMessages:[]},function(){t.state.hate_message.length>0&&f.a.ajax({type:"POST",crossDomain:!0,url:window.HateMeterApiUrlPrefix+"counterNarrativeBot",data:{message:a.state.hate_message},dataType:"json",async:!0,success:function(e){var a=[],n=[],r=0;e.forEach(function(e){a.push(e),n.push(u.a.createElement(h,{text:e,index:r,sender:"HateMeter Bot",reply:"true",callbackChooseSave:function(e){return t.handleChooseSave(e)}})),r++}),n.push(u.a.createElement(h,{text:"",index:r,sender:"Your own message",reply:"true",callbackChooseSave:function(e){return t.handleChooseSave(e)}})),a.push("");var s=t.state.session;s.id=b(),s.message=t.state.hate_message,s.originalMessages=a,s.userRepliesMessage=a,s.startedAt=v().format("MMMM Do YYYY, h:mm:ss a"),t.setState({replyMessages:n,session:s},function(){console.log(t.state.session)})},error:function(e,t){}})})},a.handleChooseSave=function(e){var t=Object(i.a)(Object(i.a)(a));console.log("saved");for(var n=document.getElementsByClassName("bubbleText"),r=[],s=0;s<n.length;s++)r.push(n.item(s).textContent);var o=a.state.session;o.selected=e,o.userRepliesMessage=r,o.endedAt=v().format("MMMM Do YYYY, h:mm:ss a"),a.setState({session:o},function(){f.a.ajax({type:"POST",crossDomain:!0,url:window.HateMeterApiUrlPrefix+"saveCounterNarrativeSession",data:{data:JSON.stringify(t.state.session)},dataType:"json",async:!0,success:function(e){console.log(e)},error:function(e,t){}})})},a.onFormSubmit=function(e){a.setState({queryComponent:void 0,replyMessages:[]},function(){e.preventDefault();var t=Object(i.a)(Object(i.a)(a));a.setState({queryComponent:u.a.createElement(h,{text:a.state.hate_message,sender:"Hate message"})},function(){a.state.hate_message.length>0&&f.a.ajax({type:"POST",crossDomain:!0,url:window.HateMeterApiUrlPrefix+"counterNarrativeBot",data:{message:a.state.hate_message},dataType:"json",async:!0,success:function(e){var a=[],n=[],r=0;e.forEach(function(e){a.push(e),n.push(u.a.createElement(h,{text:e,index:r,sender:"HateMeter Bot",reply:"true",callbackChooseSave:function(e){return t.handleChooseSave(e)}})),r++}),n.push(u.a.createElement(h,{text:"",index:r,sender:"Your own message",reply:"true",callbackChooseSave:function(e){return t.handleChooseSave(e)}})),a.push("");var s=t.state.session;s.id=b(),s.message=t.state.hate_message,s.originalMessages=a,s.userRepliesMessage=a,s.startedAt=v().format("MMMM Do YYYY, h:mm:ss a"),t.setState({replyMessages:n,session:s},function(){console.log(t.state.session)})},error:function(e,t){}})})})},a.state={session:{},hate_message:"",queryComponent:void 0,replyMessages:[]};Object(i.a)(Object(i.a)(a));return a.state.hate_message=y.parse(a.props.location.search).message,console.log(a.props.location.search),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.body.classList.remove("aside-menu-lg-show");var t=this;this.setState({queryComponent:u.a.createElement(g,{text:this.state.hate_message,sender:"Hate message",callbackParent:function(t){return e.performQuery(t)}})},function(){e.state.hate_message&&e.state.hate_message.length>0&&f.a.ajax({type:"POST",crossDomain:!0,url:window.HateMeterApiUrlPrefix+"counterNarrativeBot",data:{message:e.state.hate_message},dataType:"json",async:!0,success:function(e){var a=[],n=[],r=0;e.forEach(function(e){a.push(e),n.push(u.a.createElement(h,{text:e,index:r,sender:"HateMeter Bot",reply:"true",callbackChooseSave:function(e){return t.handleChooseSave(e)}})),r++}),n.push(u.a.createElement(h,{text:"",index:r,sender:"Your own message",reply:"true",callbackChooseSave:function(e){return t.handleChooseSave(e)}})),a.push("");var s=t.state.session;s.id=b(),s.message=t.state.hate_message,s.originalMessages=a,s.userRepliesMessage=a,s.startedAt=v().format("MMMM Do YYYY, h:mm:ss a"),t.setState({replyMessages:n,session:s},function(){console.log(t.state.session)})},error:function(e,t){}})})}},{key:"render",value:function(){return u.a.createElement("div",{className:"animated fadeIn"},u.a.createElement(m.u,null,u.a.createElement(m.h,{xs:"12",sm:"12",lg:"12"},u.a.createElement("div",{className:"wrapper animated fadeIn"},this.state.queryComponent,this.state.replyMessages))))}}]),t}(l.Component);t.default=x},356:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},428:function(e,t,a){"use strict";var n=a(12),r=a(13),s=a(15),o=a(14),c=a(16),i=a(1),l=a.n(i),u=a(3),m=(a(2),a(8),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).state={messages:[]},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e;return console.log(this.props.messages),void 0!==this.props.messages&&(e=this.props.messages.map(function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"message"},l.a.createElement("div",{className:" mr-3 float-left"},l.a.createElement("div",{className:"avatar"},l.a.createElement("img",{src:e.profileImgUrl,className:"img-avatar"}))),l.a.createElement("div",null,l.a.createElement("small",{className:"text-muted mt-1"},e.date),l.a.createElement("a",{href:"#/counterNarratives?message="+encodeURI(e.text).replace(/#/g,"%23").replace(/&/g,"%26")},l.a.createElement("i",{className:"tweetReplyCN fa fa-comments-o"})),l.a.createElement("br",null),l.a.createElement("small",{className:"text-muted"},l.a.createElement("a",{href:"https://twitter.com/"+e.by,target:"_blank"},e.by)),"rt"===e.type?l.a.createElement("small",{className:"text-muted"},l.a.createElement("i",{className:"fa fa-retweet"})," ",l.a.createElement("a",{href:"https://twitter.com/"+e.fromUser,target:"_blank"},e.fromUser)):""),l.a.createElement("br",null),l.a.createElement("div",{className:"tweetMsgBox",onClick:function(){window.open("https://twitter.com/"+e.by+"/status/"+e.id,"_blank")}},l.a.createElement("small",{className:"text-muted"},e.text," "))),l.a.createElement("hr",null))})),l.a.createElement(l.a.Fragment,null,l.a.createElement(u.v,{activeTab:"1"},l.a.createElement(u.w,{tabId:"1",className:"p-3"},e)))}}]),t}(i.Component));t.a=m}}]);
//# sourceMappingURL=10.27781d14.chunk.js.map